<!DOCTYPE html>
<html lang="lt" class="overflow-x-hidden">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Taupuolis.lt</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Flowbite UI komponentams (slideriui) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
  </head>
  <body class="bg-white text-gray-900 overflow-x-hidden">
    <!-- Header su logotipu, paieška ir prisijungimu -->
    <header class="border-b bg-white">
      <div class="flex items-center justify-between max-w-7xl mx-auto px-6 py-4">
        <a href="/" class="text-2xl font-bold text-yellow-600">Taupuolis.lt</a>
        <!-- Hamburger mygtukas tik mobile -->
        <button id="menu-toggle" class="md:hidden p-2 rounded focus:outline-none">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>
        <!-- Meniu desktopui -->
        <nav class="hidden md:flex space-x-8 items-center">
          <a href="/pardavejai.html" class="hover:underline">Visi pardavėjai</a>
          <a href="/auth/prisijungti.html" class="hover:underline">Prisijungti</a>
          <a href="/auth/registruotis.html" class="hover:underline">Registruotis</a>
        </nav>
      </div>
    </header>
    <!-- Overlay ir drawer meniu mobilui -->
    <div id="mobile-overlay" class="fixed inset-0 bg-black bg-opacity-40 z-50 hidden md:hidden"></div>
    <nav id="mobile-menu" class="fixed top-0 right-0 w-80 max-w-full h-full bg-white shadow-lg z-50 transform translate-x-full transition-transform duration-300 md:hidden">
      <button id="menu-close" class="absolute top-4 right-4 p-2">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
      <div class="flex flex-col mt-16 space-y-4 px-6">
        <a href="/pardavejai.html" class="py-2 border-b">Visi pardavėjai</a>
        <a href="/auth/prisijungti.html" class="py-2 border-b">Prisijungti</a>
        <a href="/auth/registruotis.html" class="py-2 border-b">Registruotis</a>
        <a href="#" class="py-2 border-b">Nuolaidos garantija</a>
        <a href="#" class="py-2 border-b">Taupuolio gidas</a>
        <a href="#" class="py-2 border-b">Populiaru</a>
        <a href="#" class="py-2 border-b">Kategorijos</a>
      </div>
    </nav>
    <!-- Mega menu žemiau (tik desktopui) -->
    <nav class="border-b bg-gray-50 hidden md:block">
      <div class="flex justify-center space-x-12 max-w-7xl mx-auto px-6 py-2">
        <!-- Nuolaidos garantija -->
        <div class="group inline-block relative">
          <button class="inline-flex items-center px-4 py-2 text-gray-700 hover:text-gray-900 focus:outline-none">
            Nuolaidos garantija
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="absolute left-1/2 top-full mt-0 w-[400px] -translate-x-1/2 bg-white shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible fade z-50 focus-within:opacity-100 focus-within:visible">
            <div class="px-6 py-6 grid grid-cols-1 gap-4">
              <a href="#" class="block text-gray-800 hover:text-gray-900">Apie garantiją</a>
              <a href="#" class="block text-gray-800 hover:text-gray-900">Kaip veikia?</a>
            </div>
          </div>
        </div>
        <!-- Taupuolio gidas -->
        <div class="group inline-block relative">
          <button class="inline-flex items-center px-4 py-2 text-gray-700 hover:text-gray-900 focus:outline-none">
            Taupuolio gidas
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="absolute left-1/2 top-full mt-0 w-[400px] -translate-x-1/2 bg-white shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible fade z-50 focus-within:opacity-100 focus-within:visible">
            <div class="px-6 py-6 grid grid-cols-1 gap-4">
              <a href="#" class="block text-gray-800 hover:text-gray-900">Patarimai</a>
              <a href="#" class="block text-gray-800 hover:text-gray-900">Straipsniai</a>
            </div>
          </div>
        </div>
        <!-- Populiaru -->
        <div class="group inline-block relative">
          <button class="inline-flex items-center px-4 py-2 text-gray-700 hover:text-gray-900 focus:outline-none">
            Populiaru
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="absolute left-1/2 top-full mt-0 w-[400px] -translate-x-1/2 bg-white shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible fade z-50 focus-within:opacity-100 focus-within:visible">
            <div class="px-6 py-6 grid grid-cols-1 gap-4">
              <a href="#" class="block text-gray-800 hover:text-gray-900">Top pardavimai</a>
              <a href="#" class="block text-gray-800 hover:text-gray-900">Naujausi</a>
              <a href="#" class="block text-gray-800 hover:text-gray-900">Akcijos</a>
            </div>
          </div>
        </div>
        <!-- Kategorijos -->
        <div class="group inline-block relative">
          <button class="inline-flex items-center px-4 py-2 text-gray-700 hover:text-gray-900 focus:outline-none">
            Kategorijos
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <div class="absolute left-1/2 top-full mt-0 w-[800px] -translate-x-1/2 bg-white shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible fade z-50 focus-within:opacity-100 focus-within:visible">
            <div class="px-6 py-8 grid grid-cols-4 gap-8">
              <div class="flex flex-col space-y-1">
                <a href="/kategorijos/kvepalai.html" class="block text-gray-800 hover:text-gray-900">Kvepalai</a>
                <a href="/kategorijos/kosmetika.html" class="block text-gray-800 hover:text-gray-900">Kosmetika</a>
                <a href="/kategorijos/vaikams.html" class="block text-gray-800 hover:text-gray-900">Vaikams</a>
                <a href="/kategorijos/maistas.html" class="block text-gray-800 hover:text-gray-900">Maistas</a>
                <a href="/kategorijos/elektronika.html" class="block text-gray-800 hover:text-gray-900">Elektronika</a>
              </div>
              <div class="flex flex-col space-y-1">
                <a href="/kategorijos/avalynė.html" class="block text-gray-800 hover:text-gray-900">Avalynė</a>
                <a href="/kategorijos/drabužiai.html" class="block text-gray-800 hover:text-gray-900">Drabužiai</a>
                <a href="/kategorijos/gyvūnams.html" class="block text-gray-800 hover:text-gray-900">Gyvūnams</a>
                <a href="/kategorijos/sportas.html" class="block text-gray-800 hover:text-gray-900">Sportas</a>
                <a href="/kategorijos/grožis.html" class="block text-gray-800 hover:text-gray-900">Grožis</a>
              </div>
              <div class="flex flex-col space-y-1">
                <a href="/kategorijos/sveikata.html" class="block text-gray-800 hover:text-gray-900">Sveikata</a>
                <a href="/kategorijos/buitis.html" class="block text-gray-800 hover:text-gray-900">Buitis</a>
                <a href="/kategorijos/gėrimai.html" class="block text-gray-800 hover:text-gray-900">Gėrimai</a>
                <a href="/kategorijos/paslaugos.html" class="block text-gray-800 hover:text-gray-900">Paslaugos</a>
                <a href="/kategorijos/aksesuarai.html" class="block text-gray-800 hover:text-gray-900">Aksesuarai</a>
              </div>
              <div class="flex flex-col space-y-1">
                <a href="/kategorijos/automobiliai.html" class="block text-gray-800 hover:text-gray-900">Automobiliai</a>
                <a href="/kategorijos/technika.html" class="block text-gray-800 hover:text-gray-900">Technika</a>
                <a href="/kategorijos/žaislai.html" class="block text-gray-800 hover:text-gray-900">Žaislai</a>
                <a href="/kategorijos/knygos.html" class="block text-gray-800 hover:text-gray-900">Knygos</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <!-- Main turinys -->
    <main class="py-8">
      <div class="max-w-7xl mx-auto px-4">
        <h2 class="text-3xl font-semibold mb-4">Pagrindinis turinys</h2>
        <!-- Carousel (slideris) -->
        <div id="default-carousel" class="relative w-full" data-carousel="slide">
          <!-- Carousel wrapper -->
          <div class="relative h-[450px] overflow-hidden rounded-lg">
            <!-- Slide 1 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item>
              <a href="https://glamur.lt" target="_blank" rel="noopener noreferrer">
                <img src="https://cdn.shopify.com/s/files/1/0864/5161/8058/files/Versace_eau_fraiche_lt-2.webp?v=1752830792" class="w-full h-full object-contain mx-auto" alt="Versace" />
              </a>
            </div>
            <!-- Slide 2 -->
            <div class="hidden duration-700 ease-in-out" data-carousel-item>
              <img src="https://cdn.shopify.com/s/files/1/0864/5161/8058/files/nuxe_kosmetika-3.webp?v=1752830668" class="w-full h-full object-contain mx-auto" alt="Nuxe" />
            </div>
          </div>
          <!-- Indicators -->
          <div class="absolute z-30 flex space-x-3 -translate-x-1/2 bottom-5 left-1/2">
            <button type="button" class="w-3 h-3 rounded-full bg-white" aria-label="Slide 1" data-carousel-slide-to="0"></button>
            <button type="button" class="w-3 h-3 rounded-full bg-white" aria-label="Slide 2" data-carousel-slide-to="1"></button>
          </div>
          <!-- Navigation buttons -->
          <button type="button" class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer" data-carousel-prev>
            <span class="inline-flex items-center justify-center w-10 h-10 bg-white/70 rounded-full">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 6 10">
                <path d="M5 1 1 5l4 4" />
              </svg>
            </span>
          </button>
          <button type="button" class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer" data-carousel-next>
            <span class="inline-flex items-center justify-center w-10 h-10 bg-white/70 rounded-full">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 6 10">
                <path d="m1 1 4 4-4 4" />
              </svg>
            </span>
          </button>
        </div>
        <!-- Informacinė juosta per visą plotį -->
        <div class="bg-yellow-200 py-6 w-full">
          <div class="flex flex-col md:flex-row items-center justify-center gap-12 px-4">
            <!-- Priežastis 1 -->
            <div class="flex items-center gap-4 flex-1 min-w-[220px]">
              <span class="flex items-center justify-center w-14 h-14 rounded-full bg-white shadow text-3xl">
                🔎
              </span>
              <div class="text-left">
                <div class="font-bold text-lg">Visi pasiūlymai peržiūrėti</div>
                <div class="text-sm text-gray-700">Mūsų komanda tikrina kiekvieną nuolaidą</div>
              </div>
            </div>
            <!-- Skirtukas -->
            <div class="hidden md:flex items-center justify-center">
              <span class="w-2 h-2 bg-gray-400 rounded-full mx-1"></span>
              <span class="w-2 h-2 bg-gray-400 rounded-full mx-1"></span>
              <span class="w-2 h-2 bg-gray-400 rounded-full mx-1"></span>
            </div>
            <!-- Priežastis 2 -->
            <div class="flex items-center gap-4 flex-1 min-w-[220px]">
              <span class="flex items-center justify-center w-14 h-14 rounded-full bg-white shadow text-3xl">
                💡
              </span>
              <div class="text-left">
                <div class="font-bold text-lg">Nėra paslėptų kainų</div>
                <div class="text-sm text-gray-700">Matysite tik tikras galutines kainas</div>
              </div>
            </div>
            <!-- Skirtukas -->
            <div class="hidden md:flex items-center justify-center">
              <span class="w-2 h-2 bg-gray-400 rounded-full mx-1"></span>
              <span class="w-2 h-2 bg-gray-400 rounded-full mx-1"></span>
              <span class="w-2 h-2 bg-gray-400 rounded-full mx-1"></span>
            </div>
            <!-- Priežastis 3 -->
            <div class="flex items-center gap-4 flex-1 min-w-[220px]">
              <span class="flex items-center justify-center w-14 h-14 rounded-full bg-white shadow text-3xl">
                ⏰
              </span>
              <div class="text-left">
                <div class="font-bold text-lg">Kasdien atnaujinama</div>
                <div class="text-sm text-gray-700">Naujausi kodai ir akcijos kiekvieną dieną</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Banerių (dealų) gridas puslapio apačioje -->
      <section>
        <h3 class="text-2xl font-bold text-center mb-6">Šiandienos TOP pasiūlymai</h3>
        <div id="deals-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
      </section>
    </main>
    <!-- Footer -->
    <footer class="text-center text-sm text-gray-500 py-6 border-t mt-10">
      © 2025 Taupuolis.lt – Visos teisės saugomos.
    </footer>
    <script>
      // Pardavėjų failų sąrašas
      const vendors = [
        { name: 'Douglas', url: '/pardavejai/douglas.html' },
        { name: 'Glamur', url: '/pardavejai/glamur.html' },
        { name: 'Perfumer', url: '/pardavejai/perfumer.html' },
      ];
      const searchInput = document.getElementById('search-input');
      const searchResults = document.getElementById('search-results');
      if (searchInput && searchResults) {
        searchInput.addEventListener('input', function() {
          const value = this.value.trim().toLowerCase();
          if (!value) {
            searchResults.innerHTML = '';
            searchResults.classList.add('hidden');
            return;
          }
          const matches = vendors.filter(v => v.name.toLowerCase().includes(value));
          if (matches.length === 0) {
            searchResults.innerHTML = '<div class="px-4 py-2 text-gray-500">Nieko nerasta</div>';
            searchResults.classList.remove('hidden');
            return;
          }
          searchResults.innerHTML = matches.map(v => `<a href="${v.url}" class="block px-4 py-2 hover:bg-gray-100 text-gray-800">${v.name}</a>`).join('');
          searchResults.classList.remove('hidden');
        });
        // Paslėpti rezultatus kai išeinama iš inputo
        searchInput.addEventListener('blur', function() {
          setTimeout(() => searchResults.classList.add('hidden'), 150);
        });
        searchInput.addEventListener('focus', function() {
          if (this.value.trim()) searchResults.classList.remove('hidden');
        });
      }
      // Drawer tipo hamburger meniu mobilui
      const menuToggle = document.getElementById('menu-toggle');
      const mobileMenu = document.getElementById('mobile-menu');
      const mobileOverlay = document.getElementById('mobile-overlay');
      const menuClose = document.getElementById('menu-close');
      function openMenu() {
        mobileMenu.classList.remove('translate-x-full');
        mobileOverlay.classList.remove('hidden');
      }
      function closeMenu() {
        mobileMenu.classList.add('translate-x-full');
        mobileOverlay.classList.add('hidden');
      }
      if(menuToggle) menuToggle.addEventListener('click', openMenu);
      if(menuClose) menuClose.addEventListener('click', closeMenu);
      if(mobileOverlay) mobileOverlay.addEventListener('click', closeMenu);
      if(mobileMenu) {
        mobileMenu.querySelectorAll('a').forEach(link => {
          link.addEventListener('click', closeMenu);
        });
      }
      // Banerių (dealų) gridas iš visi_pasiulymai.json
      async function loadDeals() {
        try {
          const res = await fetch('visi_pasiulymai.json');
          const deals = await res.json();
          // Filtruojam tik galiojančius (iki šiandienos arba vėliau)
          const now = new Date();
          const validDeals = deals.filter(d => {
            if (!d.terminas) return false;
            const date = new Date(d.terminas);
            return date >= now;
          });
          // Random 9
          const shuffled = validDeals.sort(() => 0.5 - Math.random());
          const selected = shuffled.slice(0, 9);
          const grid = document.getElementById('deals-grid');
          grid.innerHTML = selected.map(deal => `
            <a href="/pasiulymai/${deal.pavadinimas
              .toLowerCase()
              .replace(/[^a-z0-9]+/g, '-')
              .replace(/(^-|-$)/g, '')
            }.html" class="bg-white rounded-xl shadow hover:shadow-lg transition overflow-hidden flex flex-col group">
              <div class="relative">
                <img src="${deal.nuotraukos_url}" alt="${deal.pavadinimas}" class="w-full h-40 object-cover group-hover:scale-105 transition-transform duration-200" />
                <img src="${deal.pardavejo_logo}" alt="${deal.pardavejas}" class="absolute top-2 left-2 h-10 w-10 rounded bg-white p-1 shadow" />
                <span class="absolute top-2 right-2 bg-yellow-400 text-xs font-bold px-2 py-1 rounded">VIP RETAILER</span>
              </div>
              <div class="p-4 flex-1 flex flex-col">
                <div class="flex items-center gap-2 mb-1">
                  <span class="bg-orange-200 text-orange-800 text-xs font-bold px-2 py-0.5 rounded">EXCLUSIVE</span>
                  <span class="ml-auto text-xs text-gray-500">Galioja iki: ${deal.terminas}</span>
                </div>
                <div class="font-bold uppercase text-sm mb-1">${deal.pardavejas}</div>
                <div class="font-bold text-lg mb-1">${deal.pavadinimas}</div>
                <div class="text-gray-700 text-sm flex-1">${deal.aprasymas}</div>
              </div>
            </a>
          `).join('');
        } catch (e) {
          document.getElementById('deals-grid').innerHTML = '<div class="text-center text-gray-500">Nepavyko užkrauti pasiūlymų.</div>';
        }
      }
      loadDeals();
    </script>
  </body>
</html>
